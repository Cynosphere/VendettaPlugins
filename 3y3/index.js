(function(c,T,E,m,f){"use strict";const I=E.findByName("RowManager");var r;(function(n){n[n.BUILT_IN=0]="BUILT_IN",n[n.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",n[n.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",n[n.BOT=3]="BOT",n[n.PLACEHOLDER=4]="PLACEHOLDER"})(r||(r={}));var a;(function(n){n[n.SUB_COMMAND=1]="SUB_COMMAND",n[n.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",n[n.STRING=3]="STRING",n[n.INTEGER=4]="INTEGER",n[n.BOOLEAN=5]="BOOLEAN",n[n.USER=6]="USER",n[n.CHANNEL=7]="CHANNEL",n[n.ROLE=8]="ROLE",n[n.MENTIONABLE=9]="MENTIONABLE",n[n.NUMBER=10]="NUMBER",n[n.ATTACHMENT=11]="ATTACHMENT"})(a||(a={}));var s;(function(n){n[n.CHAT=1]="CHAT",n[n.USER=2]="USER",n[n.MESSAGE=3]="MESSAGE"})(s||(s={}));const d=[],N=/([\u{e0020}-\u{e007e}]{1,})/u;function p(n){for(const e in n){const o=n[e];if(typeof o.content=="string"){if(N.test(o.content)){const i=o.content.replace(N,""),[u,t]=o.content.match(N);n[e]={content:i,type:"text"},n.splice(Number(e)+1,0,{content:[{content:[{content:[...t].map(function(R){return String.fromCodePoint(R.codePointAt(0)-917504)}).join(""),type:"text"}],type:"em"}],type:"link",target:"usernameOnClick",context:{action:"0",userId:"0",linkColor:m.ReactNative.processColor("#6a5acd"),messageChannelId:"0"}})}}else Array.isArray(o.content)&&p(o.content)}}const A=function(){d.push(T.after("generate",I.prototype,function(n,e){let[o]=n,{message:i}=e;o.rowType===1&&i.content&&p(i.content)})),d.push(f.registerCommand({name:"3y3",displayName:"3y3",description:"Second sight encoding",displayDescription:"Second sight encoding",type:s.CHAT,inputType:r.BUILT_IN_TEXT,applicationId:"-1",options:[{name:"message",displayName:"message",description:"What to encode",displayDescription:"What to encode",type:a.STRING,required:!0},{name:"padding",displayName:"padding",description:"Optional padded message",displayDescription:"Optional padded message",type:a.STRING,required:!1}],execute:function(n,e){const o=n.find(function(t){return t.name=="message"})?.value,i=n.find(function(t){return t.name=="padding"})?.value??"",u=Array.from(o).map(function(t){return t.codePointAt(0)}).filter(function(t){return t>=32&&t<=127}).map(function(t){return String.fromCodePoint(t+917504)}).join("");return{content:(i??"")+" "+u}}}))},l=function(){for(const n of d)n?.()};return c.onLoad=A,c.onUnload=l,c})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.commands);
