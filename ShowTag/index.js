(function(r,i,c,d){"use strict";const{DCDChatManager:g}=c.ReactNative.NativeModules,o=d.findByStoreName("UserStore"),f=i.before("updateRows",g,function(m){const u=JSON.parse(m[1]);for(const e of u){if(e.type!==1||!e?.message?.username||!e?.message?.authorId)continue;const n=e.message,a=o.getUser(n.authorId);if(a&&(n.username!=a.username?n.username+=" ("+a.tag+")":n.username+="#"+a.discriminator,n.referencedMessage)){const s=e.message.referencedMessage.message,t=o.getUser(s.authorId),h=s.username.replace("@","");t!=null&&(h!=t.username?s.username+=" ("+t.tag+")":s.username+="#"+t.discriminator)}}m[1]=JSON.stringify(u)}),l=function(){f()};return r.onUnload=l,r})({},vendetta.patcher,vendetta.metro.common,vendetta.metro);
